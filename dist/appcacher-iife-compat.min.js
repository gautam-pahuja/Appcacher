"use strict";var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(c,a){try{var u=t[c](a),o=u.value}catch(e){return void n(e)}if(!u.done)return Promise.resolve(o).then(function(e){r("next",e)},function(e){r("throw",e)});e(o)}("next")})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var appcacher=function(e){var t=function(){function e(t,n){if(_classCallCheck(this,e),this.name=t,this.ttl=n,this.cache=null,!("caches"in self))return console.error("cacheAPI is not supported in your browser.")}return _createClass(e,[{key:"create",value:function(){var e=this;caches.open(this.name).then(function(t){e.cache=t}),this.ttl&&setTimeout(function(){e.delete()},this.ttl)}},{key:"add",value:function(e){this.cache.add(e).then(function(e){return console.log("Request added to cache.")})}},{key:"addAll",value:function(e){this.cache.addAll(e).then(function(e){return console.log("Requests added to cache.")})}},{key:"get",value:function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.cache.match(t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getAll",value:function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.cache.matchAll(t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"remove",value:function(e){this.cache.delete(e).then(function(e){return console.log("Request removed.")})}},{key:"delete",value:function(){caches.delete(this.name).then(function(){return console.log("Cache deleted.")})}},{key:"put",value:function(e,t){caches.put(e,t).then(function(){return console.log("Request successfully put to cache.")})}},{key:"has",value:function(e){caches.has(e).then(function(e){return e})}},{key:"getAllCacheNames",value:function(){caches.keys().then(function(e){return e})}},{key:"getStorageQouta",value:function(){navigator.storage.estimate().then(function(e){return e})}}]),e}();return e.AppCacher=t,e}({});
